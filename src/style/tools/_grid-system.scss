// =============================================================================
// TOOLS / GRID SYSTEM
// =============================================================================

// This code will generate our entire project’s grid system classes in one go.
// You shouldn’t need to know the full ins-and-outs of what is going on below;
// all you really need to know is that we end up with a suite of classes like:
//
// .o-grid__item--span-6-col         -- spans for 6 columns or half width
// .o-grid__item--span-9-col@medium  -- spans for 9 columns or three quarters
//                                      on medium-and-up screens
// .o-grid__item--offset-8-col       -- push an item over to the right by 8 cols
//                                      or two thirds
// .o-grid__item--offset-3-col@large -- pull an item back to the left by half

// prettier-ignore

@mixin _build-grid-system($breakpoint: null) {
  // Get the total number of columns defined on our $adaptable-grid object inside
  // _grid-settings file.
  $grid-columns: map-get($adaptable-grid, columns);

  // Initiate an empty map so we can push into it
  // our column widths from the loop below.
  $column-widths: ();

  // Loop through the number of columns in our grid
  @for $i from 1 through $grid-columns {
    // Build a class in the format `.o-grid__item--span-6-col[@<breakpoint>]`.
    .o-grid__item--span-#{$i}-col#{$breakpoint} {
      @include grid-span($i of $grid-columns);
    }

    // Build a class in the format `.o-grid__item--push-2-col[@<breakpoint>]`.
    .o-grid__item--push-#{$i}-col#{$breakpoint} {
      @include grid-push($i of $grid-columns);
    }

    // Build a class in the format `.o-grid__item--pull-2-col[@<breakpoint>]`.
    .o-grid__item--pull-#{$i}-col#{$breakpoint} {
      @include grid-push(-$i of $grid-columns);
    }
  }
}
