// ==========================================================================
// UTILITIES / DEBUG
// ==========================================================================

// Grid debugging settings
// =======================
//
// Applies a visual grid to the body for grid debugging.
//
// ****************************************************** //
// IMPORTANT! Make sure you comment out or set
// $visual-grid to false before compiling for production.
// ****************************************************** //

$visual-grid: false;
$visual-grid-color: #00d4ff;
$visual-grid-opacity: 0.3;

// If you'd like to debug the baseline as well, just set
// the following variable to true.
// Baseline is calculated based on your $global-font-size
// and your $global-line-height settings.

$visual-baseline: false;
$visual-baseline-color: #ccc;
$visual-baseline-opacity: 0.6;

@if variable-exists(visual-grid) and $visual-grid == true {
  body::before {
    @include grid-debug(
      rgba($visual-grid-color, $visual-grid-opacity),
      $adaptable-grid
    );
    display: inline-block;
    position: fixed;
    right: 0;
    left: 0;
    width: 100%;
    max-width: convert-to-em($global-container-width);
    height: 100%;
    margin: 0 auto;
    content: "";
    z-index: 10;
    pointer-events: none;
  }
}

// Here we apply the visual baseline to the after pseudo-element of body
@if variable-exists(visual-baseline) and $visual-baseline == true {
  body {
    position: relative;

    &::after {
      @include grid-visual-baseline(
        rgba($visual-baseline-color, $visual-baseline-opacity),
        $visual-baseline
      );
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      min-height: 100vh;
      content: "";
      z-index: 10;
      pointer-events: none;
    }
  }
}

// Layout debugging
// ===========================================

@if (config(debug) == true) {
  $debug-color: #f00;

  // Warn when trying to manipulate layout items in grids that are
  // already reversed.

  .o-grid--reverse {
    > [class*="u-push"],
    > [class*="u-pull"] {
      outline: 10px solid $debug-color;
    }
  }

  // Warn when trying to use layout items outside of a layout context.

  .o-grid__item {
    outline: 10px solid $debug-color;

    .o-grid > & {
      outline: none;
    }
  }
}
